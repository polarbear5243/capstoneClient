#pragma once
#include<fstream>
#include<string>

#define FILE_DEFULT_FOLDER "MyApp"
#define FILE_ROOT_FOLDER "/opt/usr/media"

using namespace std;

class FileInput{
private:
	ifstream * mFile;
	string mFilePath;

public:
	FileInput(string file){

		string defultPath = FILE_ROOT_FOLDER;
		defultPath = defultPath + "/" + FILE_DEFULT_FOLDER;

		if(access(defultPath.c_str(),F_OK) != 0){
			mkdir(defultPath.c_str(),0755);
		}

		mFilePath = defultPath + "/" + file;
		mFile = new ifstream(mFilePath.c_str());

		if(!(*mFile))
			throw new exception;
	}
	string read(){
		string str;
		(*mFile) >> str;
		return str;
	}
	void close(){
		mFile->close();
	}
	~FileInput(){
		mFile->close();
	}
};
