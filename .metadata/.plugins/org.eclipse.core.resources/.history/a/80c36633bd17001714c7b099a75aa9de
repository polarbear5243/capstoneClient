#pragma once
#include<iostream>
#include<string>
#include<storage.h>
#include<dirent.h>
#include<unistd.h>

#define FILE_DEFULT_FOLDER "MyApp"
#define FILE_ROOT_FOLDER "/opt/usr/media"

using namespace std;

class MyFileInput{
private:
	ifstream * mFile;
	string mFilePath;

public:
	MyFileInput(string file){

		string defultPath = FILE_ROOT_FOLDER;
		defultPath = defultPath + "/" + FILE_DEFULT_FOLDER;

		if(access(defultPath.c_str(),F_OK) != 0){
			mkdir(defultPath.c_str(),0755);
		}

		mFilePath = defultPath + "/" + file;
		mFile = new ifstream(mFilePath);

		if(mFile == NULL)
			throw new exception;
	}
	string read(){
		string str;
		(*mFile) >> str;
		return str;
	}
	void close(){
		mFile->close();
	}
	~MyFileInput(){
		mFile->close();
	}
};
